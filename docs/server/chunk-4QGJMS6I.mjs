import './polyfills.server.mjs';
import{c as j,e as L,i as O,j as V,k,m as A}from"./chunk-KUH64ND3.mjs";import{a as W}from"./chunk-QGJAVBS2.mjs";import{a as D}from"./chunk-ROTMOYCR.mjs";import{$ as l,Ga as E,Ha as B,Ja as F,K as v,L as r,R as f,S as d,U as i,V as o,W as x,Wa as T,X as _,Y as b,Z as s,_ as w,aa as C,ab as N,ba as u,ca as S,da as I,ea as M,ga as P,ha as q,l as c,n as h,s as m,t as g}from"./chunk-GI2NWK4D.mjs";import"./chunk-5XUXGTUW.mjs";var R=()=>[1,2,3,4,5];function z(t,p){t&1&&(i(0,"div",2)(1,"div",3),x(2,"div",4),i(3,"p",5),l(4,"Loading..."),o()()())}function Q(t,p){if(t&1&&(i(0,"option",17),l(1),o()),t&2){let e=p.$implicit;d("value",e),r(),C(e)}}function U(t,p){if(t&1){let e=_();i(0,"div",6)(1,"div",7),x(2,"img",8),o(),i(3,"div",9)(4,"h2",10),l(5),o(),i(6,"p",11),l(7),o(),i(8,"p",12),l(9),o(),i(10,"label",13),l(11,"Quantity:"),o(),i(12,"select",14),M("ngModelChange",function(n){m(e);let y=s();return I(y.quantity,n)||(y.quantity=n),g(n)}),f(13,Q,2,2,"option",15),o(),i(14,"button",16),b("click",function(){m(e);let n=s();return g(n.addToCart())}),l(15," Add to Cart "),o()()()}if(t&2){let e=s();r(2),w("alt",e.product.title),d("src",e.product.image,v),r(3),u(" ",e.product.title," "),r(2),u(" ",e.product.description," "),r(2),u(" ",e.product.price," $ "),r(3),S("ngModel",e.quantity),r(),d("ngForOf",q(7,R))}}var ie=(()=>{class t{constructor(){this.productService=c(D),this.route=c(T),this.cartService=c(W),this.isLoading=!0,this.quantity=1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.productService.getProducts().subscribe(a=>{this.product=a.find(n=>n.id===Number(e)),this.isLoading=!1})}addToCart(){if(this.product){let e={id:this.product.id,title:this.product.title,description:this.product.description,price:this.product.price,quantity:this.quantity,image:this.product.image};this.cartService.addItem(e),alert(`${this.product.title} ha sido a\xF1adido al carrito`)}}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=h({type:t,selectors:[["ng-component"]],standalone:!0,features:[P],decls:2,vars:2,consts:[["class","flex items-center justify-center min-h-screen",4,"ngIf"],["class","flex flex-col md:flex-row items-center justify-center gap-8 p-8 bg-white shadow-lg rounded-lg border border-gray-200",4,"ngIf"],[1,"flex","items-center","justify-center","min-h-screen"],[1,"flex","flex-col","items-center"],[1,"loader","rounded-full","border-t-4","border-blue-500","border-solid","h-24","w-24","animate-spin"],[1,"text-lg","text-gray-500","mt-4"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","gap-8","p-8","bg-white","shadow-lg","rounded-lg","border","border-gray-200"],[1,"flex-shrink-0","w-full","md:w-1/2","shadow-xl"],[1,"w-full","h-auto","object-cover","rounded-lg","shadow-md","border","border-gray-300",3,"src","alt"],[1,"w-full","md:w-1/2","space-y-6"],[1,"text-4xl","font-bold","text-gray-900","leading-tight"],[1,"text-lg","text-gray-700","leading-relaxed"],[1,"text-2xl","font-extrabold","text-gray-700","leading-relaxed"],["for","quantity",1,"block","text-gray-700","font-medium","border-blue-500","shadow-2xl"],["id","quantity",1,"select","select-bordered","select-lg","w-full","max-w-xs",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"px-6","py-3","m-8","bg-blue-500","text-white","font-medium","rounded-lg","shadow-2xl","hover:bg-blue-600","focus:outline-none","focus:ring","focus:ring-blue-300","transition","duration-300",3,"click"],[3,"value"]],template:function(a,n){a&1&&f(0,z,5,0,"div",0)(1,U,16,8,"div",1),a&2&&(d("ngIf",n.isLoading),r(),d("ngIf",!n.isLoading))},dependencies:[F,E,B,N,A,V,k,O,j,L]})}}return t})();export{ie as default};
