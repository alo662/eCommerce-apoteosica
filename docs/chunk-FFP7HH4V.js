import{a as q,b as v,c as B,d as H,f as j,g as V,h as M,l as L,n as R}from"./chunk-LFY7BYOH.js";import{a as $}from"./chunk-HZNKJ4IQ.js";import{A as a,B as C,F as c,G as d,I as o,J as r,K as _,M as p,N as x,P as l,Q as F,R as D,W as S,fa as I,ga as N,ia as w,m as f,n as k,p as g,sa as T,y as h}from"./chunk-WUEYNBUA.js";var P=(()=>{class t{constructor(n){this.element=n}onInput(n){let i=this.element.nativeElement;console.log("IN");let e=i.value.replace(/\D/g,"");e.length>16&&(e=e.substring(0,16)),e=e.replace(/(.{4})(?=.)/g,"$1 "),i.value=e}static{this.\u0275fac=function(i){return new(i||t)(C(h))}}static{this.\u0275dir=g({type:t,selectors:[["","FormatCardInput",""]],hostBindings:function(i,e){i&1&&p("input",function(u){return e.onInput(u)})},standalone:!0})}}return t})();var G=(()=>{class t{constructor(){this.element=f(h)}onInput(n){let i=this.element.nativeElement,e=i.value.replace(/\D/g,"");e.length>4&&(e=e.substring(0,4)),i.value=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=g({type:t,selectors:[["","appCvvDirective",""]],hostBindings:function(i,e){i&1&&p("input",function(u){return e.onInput(u)})},standalone:!0})}}return t})();var O=(()=>{class t{constructor(){this.element=f(h)}onInput(n){let i=this.element.nativeElement,e=i.value.replace(/\D/g,"");e.length>4&&(e=e.substring(0,4)),e.length>2&&(e=`${e.substring(0,2)}/${e.substring(2)}`),i.value=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=g({type:t,selectors:[["","appExpiryDirective",""]],hostBindings:function(i,e){i&1&&p("input",function(u){return e.onInput(u)})},standalone:!0})}}return t})();function A(t,m){if(t&1&&(o(0,"li",20)(1,"div")(2,"h3",21),l(3),r()(),o(4,"div",22)(5,"span",23),l(6),r(),o(7,"span",24),l(8),r()()()),t&2){let n=m.$implicit;a(3),F(n.title),a(3),D("$",n.price,""),a(2),D("Cantidad: ",n.quantity,"")}}function Y(t,m){t&1&&(o(0,"div"),l(1,"El numero de tarjeta es requerido"),r())}function z(t,m){t&1&&(o(0,"div"),l(1,"Tienen que ser al menos 16 digitos"),r())}function J(t,m){if(t&1&&(o(0,"div",25),c(1,Y,2,0,"div",26)(2,z,2,0,"div",26),r()),t&2){let n,i,e=x();a(),d("ngIf",(n=e.checkoutForm.get("cardNumber"))==null||n.errors==null?null:n.errors.required),a(),d("ngIf",(i=e.checkoutForm.get("cardNumber"))==null||i.errors==null?null:i.errors.minlength)}}function K(t,m){t&1&&(o(0,"div"),l(1,"fecha es requerida."),r())}function Q(t,m){if(t&1&&(o(0,"div",25),c(1,K,2,0,"div",26),r()),t&2){let n,i=x();a(),d("ngIf",(n=i.checkoutForm.get("expiryDate"))==null||n.errors==null?null:n.errors.required)}}function U(t,m){t&1&&(o(0,"div"),l(1,"CVV es requerido."),r())}function W(t,m){t&1&&(o(0,"div"),l(1,"CVV tiene al menos 3 digitos"),r())}function X(t,m){if(t&1&&(o(0,"div",25),c(1,U,2,0,"div",26)(2,W,2,0,"div",26),r()),t&2){let n,i,e=x();a(),d("ngIf",(n=e.checkoutForm.get("cvv"))==null||n.errors==null?null:n.errors.required),a(),d("ngIf",(i=e.checkoutForm.get("cvv"))==null||i.errors==null?null:i.errors.minlength)}}function Z(t,m){t&1&&(o(0,"div"),l(1,"Billing address is required."),r())}function ee(t,m){t&1&&(o(0,"div"),l(1,"Address must be at least 10 characters long."),r())}function te(t,m){if(t&1&&(o(0,"div",25),c(1,Z,2,0,"div",26)(2,ee,2,0,"div",26),r()),t&2){let n,i,e=x();a(),d("ngIf",(n=e.checkoutForm.get("address"))==null||n.errors==null?null:n.errors.required),a(),d("ngIf",(i=e.checkoutForm.get("address"))==null||i.errors==null?null:i.errors.minlength)}}var Ce=(()=>{class t{ngOnInit(){this.items=this.cartService.getItems(),this.total=this.cartService.getTotal()}constructor(n){this.fb=n,this.cartService=f($),this.items=[],this.total=0,this.checkoutForm=this.fb.group({cardNumber:["",[v.required,v.minLength(16)]],expiryDate:["",[v.required]],cvv:["",[v.required,v.minLength(3)]],address:["",[v.required,v.minLength(10)]]})}onSubmit(){this.checkoutForm.invalid||alert("Pago completado con \xE9xito")}static{this.\u0275fac=function(i){return new(i||t)(C(L))}}static{this.\u0275cmp=k({type:t,selectors:[["ng-component"]],standalone:!0,features:[S],decls:38,vars:8,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-white","shadow-md","rounded-lg"],[1,"mb-8","p-4","bg-gray-100","rounded-lg","shadow"],[1,"text-xl","font-bold","text-gray-800","mb-4"],["class","flex justify-between border-b py-2",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-4","font-bold","text-lg"],[1,"text-2xl","font-bold","text-gray-800","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-6"],["for","cardNumber",1,"block","text-sm","font-semibold","text-gray-700"],["FormatCardInput","","type","text","id","cardNumber","formControlName","cardNumber","placeholder","1234 5678 9101 1121",1,"w-full","p-3","mt-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["class","text-red-500 text-sm",4,"ngIf"],[1,"grid","grid-cols-2","gap-4","mb-6"],["for","expiryDate",1,"block","text-sm","font-semibold","text-gray-700"],["appExpiryDirective","","type","text","id","expiryDate","formControlName","expiryDate","placeholder","MM/YY",1,"w-full","p-3","mt-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","cvv",1,"block","text-sm","font-semibold","text-gray-700"],["appCvvDirective","","type","text","id","cvv","formControlName","cvv","placeholder","123",1,"w-full","p-3","mt-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","address",1,"block","text-sm","font-semibold","text-gray-700"],["type","text","id","address","formControlName","address","placeholder","123 Main St, City, Country",1,"w-full","p-3","mt-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-center"],["type","submit",1,"w-full","bg-blue-600","text-white","p-3","rounded-lg","font-semibold","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","justify-between","border-b","py-2"],[1,"font-semibold"],[1,"text-right"],[1,"block","font-bold"],[1,"block","text-sm","text-gray-500"],[1,"text-red-500","text-sm"],[4,"ngIf"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Resumen de Compra"),r(),o(4,"ul"),c(5,A,9,3,"li",3),r(),o(6,"div",4)(7,"span"),l(8,"Total:"),r(),o(9,"span"),l(10),r()()(),o(11,"h2",5),l(12,"Proceed to Payment"),r(),o(13,"form",6),p("ngSubmit",function(){return e.onSubmit()}),o(14,"div",7)(15,"label",8),l(16,"Card Number"),r(),_(17,"input",9),c(18,J,3,2,"div",10),r(),o(19,"div",11)(20,"div")(21,"label",12),l(22,"Expiry Date"),r(),_(23,"input",13),c(24,Q,2,1,"div",10),r(),o(25,"div")(26,"label",14),l(27,"CVV"),r(),_(28,"input",15),c(29,X,3,2,"div",10),r()(),o(30,"div",7)(31,"label",16),l(32,"Billing Address"),r(),_(33,"input",17),c(34,te,3,2,"div",10),r(),o(35,"div",18)(36,"button",19),l(37," Proceed to Payment "),r()()()()),i&2){let s,u,b,y;a(5),d("ngForOf",e.items),a(5),D("$",e.total,""),a(3),d("formGroup",e.checkoutForm),a(5),d("ngIf",((s=e.checkoutForm.get("cardNumber"))==null?null:s.touched)&&((s=e.checkoutForm.get("cardNumber"))==null?null:s.invalid)),a(6),d("ngIf",((u=e.checkoutForm.get("expiryDate"))==null?null:u.touched)&&((u=e.checkoutForm.get("expiryDate"))==null?null:u.invalid)),a(5),d("ngIf",((b=e.checkoutForm.get("cvv"))==null?null:b.touched)&&((b=e.checkoutForm.get("cvv"))==null?null:b.invalid)),a(5),d("ngIf",((y=e.checkoutForm.get("address"))==null?null:y.touched)&&((y=e.checkoutForm.get("address"))==null?null:y.invalid)),a(2),d("disabled",e.checkoutForm.invalid)}},dependencies:[T,w,I,N,R,j,q,B,H,V,M,P,G,O],encapsulation:2})}}return t})();export{Ce as CheckoutComponent};
