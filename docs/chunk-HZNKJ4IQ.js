import{d as a,j as o}from"./chunk-WUEYNBUA.js";var u=(()=>{class s{constructor(){this.items=[],this.totalItemsSubject=new a(0),this.totalItems$=this.totalItemsSubject.asObservable()}getItems(){return this.items}addItem(e){let t=this.items.find(i=>i.id===e.id);t?t.quantity=Number(t.quantity)+Number(e.quantity):this.items.push(e),this.updateTotalItems()}updateQuantity(e,t){let i=this.items.find(r=>r.id===e);i&&t>0?i.quantity=t:this.removeItem(e),this.updateTotalItems()}removeItem(e){this.items=this.items.filter(t=>t.id!==e),this.updateTotalItems()}getTotal(){return this.items.reduce((e,t)=>e+t.price*t.quantity,0)}updateTotalItems(){let e=this.items.reduce((t,i)=>t+i.quantity,0);this.totalItemsSubject.next(e)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{u as a};
